---
title: "Data Model & Structure"
description: "Understanding the Fiber Map table structure and relationships"
icon: "diagram-project"
---

## Data Source

The Fiber Map dataset originates from the **Federal Communications Commission (FCC)** broadband availability reporting program, where internet service providers submit semi-annual reports detailing their service coverage across the United States.

## Table Overview

The Fiber Map Gold layer includes two primary tables optimized for different analysis needs:

### usa_all_periods_final

**Fully qualified name**: `FIBER_MAP.DBT_GOLD.USA_ALL_PERIODS_FINAL`

**Purpose**: Detailed location-level broadband availability data with full provider, technology, and speed information.

**Grain**: One row per combination of:
- Location ID
- Provider Brand + FRN
- Technology Type
- Time Period
- Business/Residential Code
- Advertised Speeds

**Best for**:
- Detailed provider analysis
- Speed tier analysis
- DOCSIS version tracking (cable providers)
- Build-out timeline analysis
- Census block-level geographic analysis

**Typical row count**: ~50 million records (Indiana 2% sample)

### usa_location_summary

**Fully qualified name**: `FIBER_MAP.DBT_GOLD.USA_LOCATION_SUMMARY`

**Purpose**: Aggregated summary providing a simplified view of location-level service availability.

**Grain**: One row per combination of:
- Time Period
- Provider Brand
- Technology Name
- Location ID

**Special feature**: Includes synthetic "All" technology rows to support Lightdash parameter filtering (allows users to view all technologies together).

**Best for**:
- Location counts and market share
- Provider footprint analysis
- Quick market sizing queries
- Lightdash dashboard filtering

**Typical row count**: ~5-10 million records (Indiana 2% sample)

## When to Use Which Table

<CardGroup cols={2}>
  <Card title="Use usa_all_periods_final when..." icon="magnifying-glass-chart">
    - You need speed information (download/upload Mbps)
    - You're analyzing DOCSIS versions for cable providers
    - You need business vs. residential breakouts
    - You want census block geographic detail
    - You're tracking service build dates
  </Card>
  
  <Card title="Use usa_location_summary when..." icon="chart-simple">
    - You only need location counts
    - You want faster query performance
    - You're building dashboards in Lightdash
    - You don't need speed or detailed attributes
    - You want simple provider market share analysis
  </Card>
</CardGroup>

## Primary Keys

Both Gold tables include a `PRIMARY_KEY` field that uniquely identifies each row:

- **usa_all_periods_final**: MD5 hash of location + brand + time period + FRN + technology + business/residential code + speeds
- **usa_location_summary**: MD5 hash of time period + brand + technology + location


## Next Steps

<CardGroup cols={2}>
  <Card title="Data Dictionary" icon="book" href="/fiber-map/data-dictionary/overview">
    Explore all available fields and their definitions
  </Card>
  
  <Card title="Key Metrics" icon="calculator" href="/fiber-map/key-metrics">
    Learn about core metrics like location counts
  </Card>
</CardGroup>

